{% extends 'layout.html' %}

{% block title %}instruction{% endblock %}

{% block content %}
    <!-- Include Highlight.js CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='comp_styles/shades-of-purple.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/instruction.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='comp_styles/submit.css') }}" />



<div id="content"></div>

<!-- Include Markdown-it -->
<script src="{{ url_for('static', filename='js/markdown-it.js') }}"></script>

<!-- Include Highlight.js -->
<script src="{{ url_for('static', filename='js/highlight.js') }}"></script>

<script src="{{ url_for('static', filename='js/instruction.js') }}"></script>
<!-- 

<script>
    // Initialize markdown-it with highlight.js integration
    const md = window.markdownit({
        highlight: function (str, lang) {
            if (lang && hljs.getLanguage(lang)) {
                try {
                    return hljs.highlight(str, { language: lang }).value;
                } catch (__) {}
            }
            return ''; // use external default escaping
        }
    });

    // Example Markdown string
    const markdownString = `
# ინსტრუქცია

კოდი ჩაწერეთ აუცილებლად **start** და **end** კომენტარების შორის  
ფუნქციის შიდა კოდის დასრულების შემდეგ წაშალეთ **print(function(element_or_variable))**

---

## ფუნქციის დაწერის ფორმატი

\`\`\`python
# ფუნქციის სახელი (არგუმენტი)
def function_name(argument):
 
    ... აქ იწერება შიდა პროცესის კოდი ...

    return result

# ფუნქციის გამოძახება
print(function(element_or_variable))
\`\`\`

## მაგალითი

\`\`\`python
# მისალმების ფუნცია
def hello(name):
    return "hello " + name

print(hello("David"))
\`\`\`

## გთხოვთ, კოდი დაწერეთ კომენტარის ბლოკის შემდეგ

\`\`\`python
# __start__

... აქ იწერება ფუნქცია ...

# __end__
\`\`\`

## საბოლოოდ ასე უნდა გამოიყურებოდეს

\`\`\`python
# __start__

# მისალმების ფუნცია
def hello(name):
    return "hello " + name

# __end__
\`\`\`
`;

    // Render the markdown to HTML
    const result = md.render(markdownString);

    // Insert the rendered HTML into the content div
    document.getElementById('content').innerHTML = result;

    // Apply Highlight.js to the rendered content
    document.querySelectorAll('pre code').forEach((el) => {
        hljs.highlightElement(el);
    });
</script> -->
{% endblock %}